(()=>{"use strict";var e={d:(t,r)=>{for(var i in r)e.o(r,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:r[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{W:()=>i});const r=["A1","B1","C1","D1","E1","F1","G1","H1","I1","J1","A2","B2","C2","D2","E2","F2","G2","H2","I2","J2","A3","B3","C3","D3","E3","F3","G3","H3","I3","J3","A4","B4","C4","D4","E4","F4","G4","H4","I4","J4","A5","B5","C5","D5","E5","F5","G5","H5","I5","J5","A6","B6","C6","D6","E6","F6","G6","H6","I6","J6","A7","B7","C7","D7","E7","F7","G7","H7","I7","J7","A8","B8","C8","D8","E8","F8","G8","H8","I8","J8","A9","B9","C9","D9","E9","F9","G9","H9","I9","J9","A10","B10","C10","D10","E10","F10","G10","H10","I10","J10"];function i(){const e=r[Math.floor(Math.random()*r.length)];return r.splice(r.indexOf(e),1),e}const n=document.getElementById("humanBoard"),a=document.getElementById("robotBoard"),o=document.querySelectorAll(".numberRow"),s=document.querySelectorAll(".letterRow"),c=((()=>{let e=!0;document.addEventListener("click",(t=>{e||(t.stopPropagation(),t.preventDefault())}),!0)})(),{makeLetterTiles:function(){for(let e=0;e<10;e++)s.forEach((t=>{const r=document.createElement("div");r.classList.add("letterTile");const i=String.fromCharCode(e+65);r.appendChild(document.createTextNode(i)),t.appendChild(r)}))},makeNumberTiles:function(){for(let e=0;e<10;e++)o.forEach((t=>{const r=document.createElement("div");r.classList.add("numberTile"),r.appendChild(document.createTextNode(e+1)),t.appendChild(r)}))},makeGameTiles:function(){for(let e=0;e<10;e++){const e=document.createElement("div");e.classList.add("boardRow");for(let t=0;t<10;t++){const t=document.createElement("div");t.classList.add("boardTile"),e.appendChild(t)}n.appendChild(e),a.appendChild(e.cloneNode(!0))}},drawHumanShips:function(e){for(const t in e){const r=Array.from(n.children)[parseInt(e[t].slice(1)-1)],i=e[t].charCodeAt(0)-65;Array.from(r.children)[i].classList.add("shipTile")}},drawHitTile:function(e,t){let r;r="robot"===t?Array.from(a.children)[parseInt(e.slice(1)-1)]:Array.from(n.children)[parseInt(e.slice(1)-1)];const i=e.charCodeAt(0)-65,o=Array.from(r.children)[i];o.classList.add("hitTile"),o.textContent="✖"},drawMissTile:function(e,t){let r;r="robot"===t?Array.from(a.children)[parseInt(e.slice(1)-1)]:Array.from(n.children)[parseInt(e.slice(1)-1)];const i=e.charCodeAt(0)-65,o=Array.from(r.children)[i];o.classList.add("missTile"),o.textContent="⬤"}});function l(e,t){let r;return r="carrier"===e?5:"battleship"===e?4:"destroyer"===e||"submarine"===e?3:2,{boatName:e,coordinates:t,boatLength:r,hitTracker:{},hit:function(e){this.hitTracker[e]="hit"},isSunk:function(){return Object.keys(this.hitTracker).length===this.boatLength}}}function d(e){const t=l("carrier",e.carrier),r=l("battleship",e.battleship),i=l("destroyer",e.destroyer),n=l("submarine",e.submarine),a=l("patrolBoat",e.patrolBoat),o=[];return{gameOver:function(){return!!(t.isSunk()&&r.isSunk()&&i.isSunk()&&n.isSunk()&&a.isSunk())},receiveAttack:function(s){return e.carrier.includes(s)?(t.hit(s),"carrier hit"):e.battleship.includes(s)?(r.hit(s),"battleship hit"):e.destroyer.includes(s)?(i.hit(s),"destroyer hit"):e.submarine.includes(s)?(n.hit(s),"submarine hit"):e.patrolBoat.includes(s)?(a.hit(s),"patrolBoat hit"):(o.push(s),"miss")},carrier:t,battleship:r,destroyer:i,submarine:n,patrolBoat:a}}c.makeGameTiles(),c.makeLetterTiles(),c.makeNumberTiles();const u={carrier:["A1","B1","C1","D1","E1"],battleship:["A2","B2","C2","D2"],destroyer:["A3","B3","C3"],submarine:["A4","B4","C4"],patrolBoat:["A5","B5"]};for(const e in Object.values(u))c.drawHumanShips(Object.values(u)[e]);const h=d(u),m=d(u);document.querySelectorAll(".boardTile").forEach((e=>{e.addEventListener("click",(()=>{const t=e.parentElement,r=String.fromCharCode(Array.from(t.children).indexOf(e)+65),n=Array.from(t.parentElement.children).indexOf(t)+1,a=m.receiveAttack(r+n),o=["carrier hit","battleship hit","destroyer hit","submarine hit","patrolBoat hit"];o.includes(a)?c.drawHitTile(r+n,"robot"):c.drawMissTile(r+n,"robot");const s=i(),l=h.receiveAttack(s);o.includes(l)?c.drawHitTile(s,"human"):c.drawMissTile(s,"human")}))}))})();