(()=>{"use strict";const e=document.getElementById("humanBoard"),t=document.getElementById("robotBoard"),r=document.querySelectorAll(".numberRow"),i=document.querySelectorAll(".letterRow"),n=function(){for(let e=0;e<10;e++)i.forEach((t=>{const r=document.createElement("div");r.classList.add("letterTile");const i=String.fromCharCode(e+65);r.appendChild(document.createTextNode(i)),t.appendChild(r)}))},o=function(){for(let e=0;e<10;e++)r.forEach((t=>{const r=document.createElement("div");r.classList.add("numberTile"),r.appendChild(document.createTextNode(e+1)),t.appendChild(r)}))},a=function(t){for(const r in t){const i=Array.from(e.children)[parseInt(t[r].slice(1)-1)],n=t[r].charCodeAt(0)-65;Array.from(i.children)[n].classList.add("shipTile")}},c=function(e){const r=Array.from(t.children)[parseInt(e.slice(1)-1)],i=e.charCodeAt(0)-65,n=Array.from(r.children)[i];n.classList.add("hitTile"),n.textContent="✖"},s=function(e){const r=Array.from(t.children)[parseInt(e.slice(1)-1)],i=e.charCodeAt(0)-65,n=Array.from(r.children)[i];n.classList.add("missTile"),n.textContent="⬤"};function d(e,t){let r;return r="carrier"===e?5:"battleship"===e?4:"destroyer"===e||"submarine"===e?3:2,{boatName:e,coordinates:t,boatLength:r,hitTracker:{},hit:function(e){this.hitTracker[e]="hit"},isSunk:function(){return Object.keys(this.hitTracker).length===this.boatLength}}}function l(e){const t=d("carrier",e.carrier),r=d("battleship",e.battleship),i=d("destroyer",e.destroyer),n=d("submarine",e.submarine),o=d("patrolBoat",e.patrolBoat),a=[];return{gameOver:function(){return!!(t.isSunk()&&r.isSunk()&&i.isSunk()&&n.isSunk()&&o.isSunk())},receiveAttack:function(c){return e.carrier.includes(c)?(t.hit(c),"carrier hit"):e.battleship.includes(c)?(r.hit(c),"battleship hit"):e.destroyer.includes(c)?(i.hit(c),"destroyer hit"):e.submarine.includes(c)?(n.hit(c),"submarine hit"):e.patrolBoat.includes(c)?(o.hit(c),"patrolBoat hit"):(a.push(c),"miss")},carrier:t,battleship:r,destroyer:i,submarine:n,patrolBoat:o}}(function(){for(let r=0;r<10;r++){const r=document.createElement("div");r.classList.add("boardRow");for(let e=0;e<10;e++){const e=document.createElement("div");e.classList.add("boardTile"),r.appendChild(e)}e.appendChild(r),t.appendChild(r.cloneNode(!0))}})(),n(),o();const h={carrier:["A1","B1","C1","D1","E1"],battleship:["A2","B2","C2","D2"],destroyer:["A3","B3","C3"],submarine:["A4","B4","C4"],patrolBoat:["A5","B5"]};for(const e in Object.values(h))a(Object.values(h)[e]);l(h);const u=l(h);document.querySelectorAll(".boardTile").forEach((e=>{e.addEventListener("click",(()=>{const t=e.parentElement,r=String.fromCharCode(Array.from(t.children).indexOf(e)+65),i=Array.from(t.parentElement.children).indexOf(t)+1,n=u.receiveAttack(r+i);["carrier hit","battleship hit","destroyer hit","submarine hit","patrolBoat hit"].includes(n)?c(r+i):s(r+i)}))}))})();